(this["webpackJsonpfinance-manager"]=this["webpackJsonpfinance-manager"]||[]).push([[0],{74:function(n,e,t){"use strict";t.r(e);var c,a,r,o,i,s,d,l=t(0),j=t(20),u=t.n(j),b=t(7),p=t(8),h=Object(p.a)(c||(c=Object(b.a)(["\n    * {\n        margin: 0;\n        padding: 0;\n        box-sizing: border-box;\n    }\n\n    html, body, #root {\n        width: 100%;\n        height: 100%;\n    }\n\n    body {\n        font-family: sans-serif;\n        background-color: #D5D5D5;\n    }\n"]))),x=t(18),f=t(12),O=t(45),g=t(3),m=t(21),v=t(5),w=t.n(v),y=t(14),F=t(13),E=t(44),k=t.n(E).a.create({baseURL:"https://finance-auth-api.herokuapp.com"}),C=function(){return!!localStorage.getItem("TOKEN")},I=p.b.div(a||(a=Object(b.a)(["\n    width: 500px;\n    padding: 30px 0;\n    background-color: #5636D3;\n    border-radius: 8px;\n    display: flex;\n    align-items: center;\n    flex-direction: column;\n    box-shadow: 2px 2px 8px #1D202B;\n    position: absolute;\n    left: 50%;\n    top: 25%;\n    transform: translateX(-50%);\n\n    h1 {\n        color: #FFFFFF;\n        font-size: 34px;\n    }\n\n    input, button {\n        width: 80%;\n        height: 28px;\n        border: none;\n        outline: none;\n        border-radius: 4px;\n    }\n\n    input {\n        padding: 8px;\n        margin-top: 20px;\n        font-size: 16px;\n    }\n\n    input:focus {\n        background-color: #D6D6D6;\n    }\n\n    button {\n        background-color: #FF872C;\n        margin-top: 24px;\n        color: white;\n        font-size: 16px;\n        font-weight: 550;\n        cursor: pointer;\n    }\n\n    button:hover {\n        background-color: #DA6A14;\n    }\n\n    button:active {\n        transform: scale(0.98);\n    }\n"]))),S=t(1),N=function(n){return Object(S.jsxs)(I,{children:[Object(S.jsx)("h1",{children:"Login"}),Object(S.jsx)("input",{type:"email",name:"email",placeholder:"Email",autoFocus:!0,autoComplete:"off"}),Object(S.jsx)("input",{type:"password",name:"password",placeholder:"Password",autoComplete:"off"}),Object(S.jsx)("button",{onClick:n.doLogin,children:"Login"})]})},z=function(){var n=Object(l.useState)(!0),e=Object(F.a)(n,2),t=e[0],c=e[1],a=function(){var n=Object(y.a)(w.a.mark((function n(){var e,t,a,r,o;return w.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=document.getElementsByName("email")[0].value,t=document.getElementsByName("password")[0].value,a=btoa("".concat(e,":").concat(t)),n.next=5,k.get("/auth/login",{headers:{authorization:"Basic ".concat(a)}});case 5:r=n.sent,(o=r.data).Error?c(!0):(localStorage.setItem("TOKEN",o.token),c(!1));case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(N,{doLogin:a}),t?"":Object(S.jsx)(g.a,{to:{pathname:"/home"}}),C()?Object(S.jsx)(g.a,{to:{pathname:"/home"}}):""]})},B=p.b.div(r||(r=Object(b.a)(["\n    background-color: #5636D3;\n    width: 100%;\n    height: 30%;\n\n    .logo {\n        margin-top: 32px;\n        margin-left: 1px;\n    }\n\n    .Header {\n        display: flex;\n        width: 100%;\n        height: 60px;\n        position: absolute;\n        justify-content: space-between;\n        padding: 0 160px;\n    }\n\n    .Header div {\n        display: flex;\n        align-items: center;\n        width: 250px;\n        justify-content: space-between;\n    }\n\n    .btnCadastrar {\n        color: #FFFFFF;\n    }\n\n    .btnCadastrar i {\n        width: 14px;\n        color: #FFFFFF;\n    }\n\n    .Cards {\n        display: flex;\n        flex-direction: row;\n        justify-content: space-between;\n        padding: 0 160px;\n    }\n\n    button {\n        margin-top: 32px;\n        outline: none;\n        border: none;\n        background: none;\n        color: white;\n        font-size: 16px;\n        cursor: pointer;\n    }\n\n    button:hover {\n        color: #CCCCCC;\n    }\n"]))),D=t.p+"static/media/Logo.607ab0cf.svg",T=function(n){var e=Object(x.b)();return Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)(B,{children:[Object(S.jsxs)("div",{className:"Header",children:[Object(S.jsx)("img",{src:D,alt:"logo",className:"logo"}),Object(S.jsxs)("div",{children:[Object(S.jsx)("button",{onClick:function(){e({type:"SHOW_REGISTER"})},className:"btnCadastrar",children:"Cadastrar"}),Object(S.jsx)("button",{onClick:function(){e({type:"SHOW_LISTAGEM"})},children:"Listagem"}),Object(S.jsx)("button",{onClick:n.onClick,children:"Sair"})]})]}),Object(S.jsx)("div",{className:"Cards",children:n.children})]})})},L=t.p+"static/media/Entradas.023c061e.svg",R=t.p+"static/media/Saidas.466248df.svg",H=t.p+"static/media/Total.e6a4e09f.svg",V=p.b.div(o||(o=Object(b.a)(["\n  display: flex;\n  flex-direction: row;\n  margin-top: 100px;\n  justify-content: space-between;\n  width: 100%;\n  font-family: 'Poppins', sans-serif;\n  font-size: 16px;\n\n  h1 {\n    font-size: 14px;\n    font-weight: 400;\n  }\n\n  h2 {\n    font-weight: 400;\n    font-size: 32px;\n    color: #363f5f;\n    margin-top: 8px;\n  }\n\n  img {\n    height: 28px;\n  }\n\n  header {\n    display: flex;\n    flex-direction: row;\n    width: 100%;\n    justify-content: space-between;\n  }\n\n  div {\n    background-color: white;\n    width: 302px;\n    height: 110px;\n    border-radius: 5px;\n    padding: 19px 23px 0 32px;\n    box-shadow: 0px 1px 2px #8E8E8E;\n  }\n\n  div:nth-child(3) {\n      background-color: #FF872C;\n  }\n\n  div:nth-child(3) h1, h2 {\n      color: white;\n  }\n"]))),_=function(n){var e=n.userId,t=Object(l.useState)([]),c=Object(F.a)(t,2),a=c[0],r=c[1],o=Object(l.useState)({}),i=Object(F.a)(o,2),s=i[0],d=i[1];return Object(l.useEffect)((function(){Object(y.a)(w.a.mark((function n(){var t,c;return w.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,k.post("/transaction/list",{userId:e});case 2:t=n.sent,(c=t.data).Error||r(c);case 5:case"end":return n.stop()}}),n)})))()}),[e]),Object(l.useEffect)((function(){if(a.length>0){var n=a.map((function(n){return parseInt(n.price)})),e=n.reduce((function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;return e>0?n+e:n})),t=n.reduce((function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;return e?e+n:n})),c=t-e;d({entradaValue:e.toFixed(2).replace(".",","),saidaValue:c.toFixed(2).replace(".",","),totalValue:t.toFixed(2).replace(".",",")})}}),[a]),Object(S.jsxs)(V,{children:[Object(S.jsxs)("div",{children:[Object(S.jsxs)("header",{children:[Object(S.jsx)("h1",{style:{color:"#363F5F"},children:"Entradas"}),Object(S.jsx)("img",{src:L,alt:"entradas-icon"})]}),Object(S.jsxs)("h2",{style:{color:"#363F5F"},children:["R$ ",s.entradaValue]})]}),Object(S.jsxs)("div",{children:[Object(S.jsxs)("header",{children:[Object(S.jsx)("h1",{style:{color:"#363F5F"},children:"Sa\xeddas"}),Object(S.jsx)("img",{src:R,alt:"saidas-icon"})]}),Object(S.jsxs)("h2",{style:{color:"#363F5F"},children:["R$ ",s.saidaValue]})]}),Object(S.jsxs)("div",{children:[Object(S.jsxs)("header",{children:[Object(S.jsx)("h1",{children:"Total"}),Object(S.jsx)("img",{src:H,alt:"total-icon"})]}),Object(S.jsxs)("h2",{children:["R$ ",s.totalValue]})]})]})},A=p.b.div(i||(i=Object(b.a)(["\n    display: flex;\n    width: 100%;\n    height: 70%;\n"]))),$=function(n){return Object(S.jsx)(A,Object(f.a)(Object(f.a)({id:"content"},n),{},{children:n.children}))},G=p.b.div(s||(s=Object(b.a)(["\n    position: relative;\n    top: 40px;\n    margin-left: 12%;\n    width: 76%;\n    font-family: 'Poppins', sans-serif;\n    font-size: 16px;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    cursor: default;\n\n    .content-table {\n        margin: 20px 0px;\n        border-spacing: 0 10px;\n    }\n\n    .content-table thead tr {\n        text-align: left;\n        color: #969CB2;\n        font-weight: 400;\n    }\n\n    .content-table tbody tr {\n        background-color: white;\n    }\n\n    .content-table td, .content-table th {\n        padding: 10px 15px;\n    }\n\n    .price-positive {\n        color: #12A454;\n    }\n\n    .price-negative {\n        color: #E83F5B;\n    }\n\n    .date {\n        color: #969CB2;\n    }\n"]))),K=function(n){var e=n.userId,t=Object(l.useState)([]),c=Object(F.a)(t,2),a=c[0],r=c[1];return Object(l.useEffect)((function(){Object(y.a)(w.a.mark((function n(){var t,c;return w.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,k.post("/transaction/list",{userId:e});case 2:t=n.sent,(c=t.data).Error||r(c);case 5:case"end":return n.stop()}}),n)})))()}),[e]),Object(S.jsx)(S.Fragment,{children:Object(S.jsx)(G,{id:"transactionList",children:Object(S.jsxs)("table",{className:"content-table",children:[Object(S.jsx)("thead",{children:Object(S.jsxs)("tr",{children:[Object(S.jsx)("th",{children:"T\xedtulo"}),Object(S.jsx)("th",{children:"Pre\xe7o"}),Object(S.jsx)("th",{children:"Data"})]})}),Object(S.jsx)("tbody",{children:a.map((function(n){return Object(S.jsxs)("tr",{children:[Object(S.jsx)("td",{children:n.title}),Object(S.jsx)("td",{children:n.price>0?Object(S.jsxs)("span",{className:"price-positive",children:["R$ ",n.price.toFixed(2).replace(".",",")]}):Object(S.jsxs)("span",{className:"price-negative",children:["R$ ",n.price.toFixed(2).replace(".",",")]})}),Object(S.jsx)("td",{children:Object(S.jsx)("span",{className:"date",children:n.date})})]},n._id)}))})]})})})},P=p.b.div(d||(d=Object(b.a)(["\n    width: 76%;\n    height: 100%;\n    margin-left: 12%;\n    display: flex;\n    justify-content: center;\n    background-color: blue;\n\n    form {\n        background-color: red;\n        width: 50%;\n        height: 200px;\n        margin-top: 100px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        flex-direction: column;\n    }\n\n    form button, input {\n        width: 50%;\n    }\n"]))),W=function(n){var e=n.userId,t=function(){var n=Object(y.a)(w.a.mark((function n(){var t,c;return w.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=document.getElementsByClassName("registerInput")[0].value,c=document.getElementsByClassName("registerInput")[1].value,n.next=4,k.post("http://localhost:8081/transaction/create",{userId:e,transaction:[{title:t,price:c}]});case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(S.jsx)(P,{children:Object(S.jsxs)("form",{children:[Object(S.jsx)("input",{type:"text",className:"registerInput"}),Object(S.jsx)("input",{type:"text",className:"registerInput"}),Object(S.jsx)("button",{type:"button",onClick:t,children:"Criar finan\xe7a"})]})})},J=function(){var n=Object(l.useState)(!0),e=Object(F.a)(n,2),t=e[0],c=e[1],a=Object(l.useState)(!1),r=Object(F.a)(a,2),o=r[0],i=r[1],s=Object(l.useState)({}),d=Object(F.a)(s,2),j=d[0],u=d[1],b=Object(x.c)((function(n){return n.show}));Object(l.useEffect)((function(){i(b)}),[b]),Object(l.useEffect)((function(){Object(y.a)(w.a.mark((function n(){var e,t;return w.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,k.get("/auth/me",{headers:{authorization:"Bearer ".concat(localStorage.getItem("TOKEN"))}});case 2:e=n.sent,(t=e.data).Error||u(t._id);case 5:case"end":return n.stop()}}),n)})))()}),[]);return Object(S.jsx)(S.Fragment,{children:t?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(T,{onClick:function(){localStorage.removeItem("TOKEN"),c(!1)},children:o?"":Object(S.jsx)(_,{userId:j})}),Object(S.jsx)($,{children:o?Object(S.jsx)(W,{userId:j}):Object(S.jsx)(K,{userId:j})})]}):Object(S.jsx)(g.a,{to:{pathname:"/login"}})})},M=function(n){var e=n.component,t=Object(O.a)(n,["component"]);return Object(S.jsx)(g.b,Object(f.a)(Object(f.a)({},t),{},{render:function(n){return C()?Object(S.jsx)(e,Object(f.a)({},n)):Object(S.jsx)(g.a,{to:{pathname:"/login",state:{from:n.location}}})}}))},U=function(){return Object(S.jsx)(m.a,{children:Object(S.jsxs)(g.d,{children:[Object(S.jsx)(g.b,{exact:!0,path:"/login",component:z}),Object(S.jsx)(M,{exact:!0,path:"/home",component:J})]})})},X=t(22),q={show:!1},Q=Object(X.b)((function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SHOW_REGISTER":return Object(f.a)(Object(f.a)({},n),{},{show:!0});case"SHOW_LISTAGEM":return Object(f.a)(Object(f.a)({},n),{},{show:!1});default:return n}})),Y=function(){return Object(S.jsxs)(x.a,{store:Q,children:[Object(S.jsx)(h,{}),Object(S.jsx)(U,{})]})};u.a.render(Object(S.jsx)(Y,{}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.aedb442a.chunk.js.map